plugins {
	id 'java'
	id 'com.moowork.node' version '1.2.0'
	id "com.moowork.gulp" version '1.2.0'
}

group = 'io.spring.docs'
description = 'Spring reference documentation Asciidoctor theme'

repositories {
	mavenCentral()
}

gulp_default.dependsOn 'npmInstall'
gulp_default.dependsOn 'installGulp'
processResources.dependsOn gulp_default

jar {
	from project.buildDir.absolutePath + '/dist'
	eachFile { details ->
		details.path = details.path.startsWith('META-INF') ?: 'META-INF/resources/spring-asciidoctor-theme/' + details.path
	}
	includeEmptyDirs = false
}

